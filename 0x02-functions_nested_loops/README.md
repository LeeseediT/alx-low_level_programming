Understanding nested loops and functions
